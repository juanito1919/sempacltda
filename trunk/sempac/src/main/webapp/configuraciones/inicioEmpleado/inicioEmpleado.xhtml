<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                template="../../resources/plantilla/ventanaInicioEmpleadoPlantilla.xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:c="http://java.sun.com/jsp/jstl/core"
                xmlns:f="http://java.sun.com/jsf/core">
    <ui:define  name="formulario">

        <style type="text/css">
            .negro{
                font-weight: bold;
            }
            .titulo{
                font-size: 1.0em;
            }
        </style>

        <div class="panelTitulo">

        </div> 
        <div style="width: 20%; float:left;">
            <p:panel id="pago" header="Estado de Cuenta" style="border: none; width: 100%;" >
                Estado de la cuanta de pago es: 
                Pagado
                <h:graphicImage  id="fotoestado" value="" height="150" width="150" />
                <h:form>
                    <p:commandButton value="Realizar Pago" oncomplete="PF('displayPago').show()"/>
                </h:form>
            </p:panel>

        </div>
        <div style="width: 60%; float:left;">
            <p:panel id="panelPerfil" header="Datos Personales" style="border: none; width: 100%;" >
                <div style="width: 20%; float:left;">
                    <p:lightBox styleClass="imagebox" id="lighbox1"> 
                        <h:outputLink value="#{usuarioController.selected.url}" title="Foto de Perfil">
                            <h:graphicImage  id="fotoPerfil" value="#{usuarioController.selected.url}" height="150" width="150" />
                        </h:outputLink>
                    </p:lightBox>

                    <div style="margin: 0px auto; width: 150px;">
                        <h:link value="Editar Perfil" styleClass="link"/>
                    </div>
                </div>
                <div style=" width: 50%; float:left; margin-left: 10px; border-left-width: 10px;">
                    <div style="font-size: 1.5em; color: #0066ff;">#{usuarioController.selected.nombres.toUpperCase()} #{usuarioController.selected.apellidos.toUpperCase()}</div>
                    <div style="font-size: 1.2em;">Genero: #{usuarioController.selected.genero}</div>
                    <div style="font-size: 1.2em;">Cedula/Pasaporte: #{usuarioController.selected.identidad}</div>
                    <div style="font-size: 1.2em;">Edad: #{usuarioController.selected.edad}</div>
                    <div style="font-size: 1.2em;">Telefono/Celular: #{usuarioController.selected.telefonoFijo}</div>
                    <div style="font-size: 1.2em;">Celular: #{usuarioController.selected.telefonoMovil}</div>
                    <div style="font-size: 1.2em;">Email: #{usuarioController.selected.correoElectronico}</div>
                    <div style="font-size: 1.2em;">Direcci√≥n: #{usuarioController.selected.direccion}</div>
                </div>
            </p:panel>
        </div>
        <div style="width: 20%; float:left;">
            <p:panel id="panelCV" header="Actualizar CV" style="border: none; width: 98%; margin: 0px auto; " >

                <h:link outcome="/configuraciones/usuario/inicio"  styleClass="link">
                    <p:graphicImage url="../../resources/images/hojadevida.gif" width="150" height="150" style="margin-left: 50px;" />
                </h:link>

            </p:panel>
            <h:form>
                <p:panel id="panelNotificaciones" header="Ofertas de Empleo"  style="border: none; width: 98%; height: 200px;" >
                    <p:scrollPanel  style="border: none; width: 104%; height: 200px;"  mode="native">

                        <c:forEach items="#{personalRequeridoController.items}" var="item">
                            <p:separator style="border-color:#ececec; border-width: 0.1em; box-shadow: none;"/> 
                            <p:commandLink styleClass="linkBuscaTrabajo" 
                                           update="carDetail" 
                                           oncomplete="PF('display').show()" >
                                <f:setPropertyActionListener value="#{item}" target="#{personalRequeridoController.selected}" />
                                <div style="float: left;">
                                    <img src="http://www.frikipedia.es/images/7/7a/1_Empresa.png" alt="" width="50px" height="50px"/>
                                </div>
                                <div style="float: left;">
                                    <div class="negro titulo">#{item.idEmpresa.nombre}</div>
                                    <div>Cargo: #{item.idHabilidades.nombre}</div>
                                    <div>Ciudad: #{item.idCiudad.nombre}</div>
                                </div>
                                <div style="clear:both;"/>
                            </p:commandLink>
                        </c:forEach>

                    </p:scrollPanel>
                </p:panel>
                <p:dialog id="dialogAplicarEmpleo" header="Aplicar Trabajo" modal="true" widgetVar="display" style="width: 300px;">

                    <h:panelGrid id="carDetail" columns="2" border="0" style="border: none;">
                        <p:outputLabel value="Empresa:" for="empresa"/>
                        <p:inputText id="empresa" value="#{personalRequeridoController.selected.idEmpresa.nombre}" size="35" readonly="true"/>

                        <p:outputLabel value="Cargo:" for="cargo"/>
                        <p:inputText id="cargo" value="#{personalRequeridoController.selected.idHabilidades.nombre}" size="35" readonly="true"/>

                        <p:outputLabel value="Fecha:" for="fecha"/>
                        <p:inputText id="fecha" value="#{personalRequeridoController.selected.fechaModificacion}" size="35" readonly="true"/>

                        <p:outputLabel value="Ciudad:" for="ciudad"/>
                        <p:inputText id="ciudad" value="#{personalRequeridoController.selected.idCiudad.nombre}" size="35" readonly="true"/>

                        <p:outputLabel value="Descripcion:" for="descripcion"/>
                        <p:inputTextarea id="descripcion" value="#{personalRequeridoController.selected.descripcion}" rows="6" cols="37"  readonly="true"/>

                    </h:panelGrid>
                    <div>
                        <p:commandButton id="butonAplicarTrabajo" value="APLICAR"/>
                        <p:commandButton id="cancelar" value="CANCELAR"/>
                    </div>
                </p:dialog>
            </h:form>
        </div>
        <div style=" clear:both; width: 70%; float:left;">

        </div>
        <p:dialog id="dialogRealizarPago" header="Realizar Pago" modal="true" widgetVar="displayPago" style="width: 300px;">
            <form id="formPago">
                <h:panelGrid id="detalles" columns="2" border="0" style="border: none;">
                    <p:graphicImage value="../../resources/images/Financial_Transactions-128.png"/>

                    <h:panelGrid id="carDetail" columns="2" border="0" style="border: none;">
                        <p:outputLabel value="Numero de Deposito" for="deposito" />
                        <p:inputText id="deposito" 
                                     value="#{usuarioController.pagos.numeroDeposito}" 
                                     required="true"
                                     title="Numero de deposito en la Cuenta bancaria" />
                    </h:panelGrid>
                </h:panelGrid>
                <p:commandButton id="pagar"
                                 actionListener="#{usuarioController.pagosDeposito} "
                                 value="Pagar"  /> 
                <p:commandButton id="cancelar" value="CANCELAR"/>
            </form>
        </p:dialog>

    </ui:define>
</ui:composition>
